
{{define "content"}}
<div class="page-header">
    <div>
        <h1 class="page-title">{{T .AdminLang "dashboard.title"}}</h1>
        <p class="page-description">{{T .AdminLang "dashboard.welcome" .User.Name}}</p>
    </div>
    <div class="page-actions">
        <a href="/admin/pages/new" class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
            {{T .AdminLang "pages.new"}}
        </a>
    </div>
</div>

<div class="stats-grid">
    <a href="/admin/pages" class="stat-card stat-card-link">
        <div class="stat-icon stat-icon-blue">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.total_pages"}}</div>
            <div class="stat-value">{{.Data.Stats.TotalPages}}</div>
        </div>
    </a>
    <a href="/admin/pages?status=published" class="stat-card stat-card-link">
        <div class="stat-icon stat-icon-green">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.published_pages"}}</div>
            <div class="stat-value">{{.Data.Stats.PublishedPages}}</div>
        </div>
    </a>
    <a href="/admin/pages?status=draft" class="stat-card stat-card-link">
        <div class="stat-icon stat-icon-yellow">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.draft_pages"}}</div>
            <div class="stat-value">{{.Data.Stats.DraftPages}}</div>
        </div>
    </a>
    <a href="/admin/users" class="stat-card stat-card-link">
        <div class="stat-icon stat-icon-purple">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.total_users"}}</div>
            <div class="stat-value">{{.Data.Stats.TotalUsers}}</div>
        </div>
    </a>
</div>

<div class="stats-grid stats-grid-secondary">
    <a href="/admin/media" class="stat-card stat-card-link">
        <div class="stat-icon stat-icon-cyan">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.media_files"}}</div>
            <div class="stat-value">{{.Data.Stats.TotalMedia}}</div>
        </div>
    </a>
    <a href="/admin/forms" class="stat-card stat-card-link">
        <div class="stat-icon stat-icon-indigo">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.total_forms"}}</div>
            <div class="stat-value">{{.Data.Stats.TotalForms}}</div>
        </div>
    </a>
    <a href="/admin/forms" class="stat-card stat-card-link{{if gt .Data.Stats.UnreadSubmissions 0}} stat-card-highlight{{end}}">
        <div class="stat-icon stat-icon-orange">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.unread_submissions"}}</div>
            <div class="stat-value">{{.Data.Stats.UnreadSubmissions}}</div>
        </div>
    </a>
</div>

<div class="stats-grid stats-grid-tertiary">
    <a href="/admin/languages" class="stat-card stat-card-link">
        <div class="stat-icon stat-icon-teal">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.languages"}}</div>
            <div class="stat-value">{{.Data.Stats.ActiveLanguages}}</div>
        </div>
    </a>
    <a href="/admin/cache" class="stat-card stat-card-link">
        <div class="stat-icon stat-icon-emerald">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 0 1 9-9"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.cache_hit_rate"}}</div>
            <div class="stat-value">{{printf "%.0f" .Data.Stats.CacheHitRate}}%</div>
        </div>
    </a>
    <a href="/admin/cache" class="stat-card stat-card-link">
        <div class="stat-icon stat-icon-rose">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/><path d="M3 12c0 1.66 4 3 9 3s9-1.34 9-3"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.cache_items"}}</div>
            <div class="stat-value">{{.Data.Stats.CacheItems}}</div>
        </div>
    </a>
</div>

<div class="dashboard-grid">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">{{T .AdminLang "dashboard.recent_activity"}}</h2>
            {{if .Data.RecentActivity}}
            <a href="/admin/events" class="btn btn-sm btn-outline">{{T .AdminLang "dashboard.view_all_events"}}</a>
            {{end}}
        </div>
        <div class="card-body">
            {{if .Data.RecentActivity}}
            <div class="activity-timeline">
                {{range .Data.RecentActivity}}
                <div class="activity-item activity-level-{{.Level}}">
                    <div class="activity-icon activity-icon-{{.Category}}">
                        {{if eq .Category "auth"}}
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                        {{else if eq .Category "page"}}
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg>
                        {{else if eq .Category "user"}}
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                        {{else if eq .Category "config"}}
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
                        {{else if eq .Category "cache"}}
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/><path d="M3 12c0 1.66 4 3 9 3s9-1.34 9-3"/></svg>
                        {{else}}
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                        {{end}}
                    </div>
                    <div class="activity-content">
                        <div class="activity-message">{{.Message}}</div>
                        <div class="activity-meta">
                            {{if .UserName}}
                            <span class="activity-user">{{.UserName}}</span>
                            {{else}}
                            <span class="activity-user activity-system">{{T $.AdminLang "dashboard.system_action"}}</span>
                            {{end}}
                            <span class="activity-time" title="{{.CreatedAt}}">{{.TimeAgo}}</span>
                        </div>
                    </div>
                    <span class="activity-badge badge-{{.Level}}">{{T $.AdminLang (printf "activity.category.%s" .Category)}}</span>
                </div>
                {{end}}
            </div>
            {{else}}
            <div class="empty-state">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/><path d="m15 5 3 3"/></svg>
                <p>{{T .AdminLang "dashboard.no_activity"}}</p>
                <span class="empty-hint">{{T .AdminLang "dashboard.activity_hint"}}</span>
            </div>
            {{end}}
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h2 class="card-title">{{T .AdminLang "dashboard.recent_submissions"}}</h2>
            {{if .Data.RecentSubmissions}}
            <a href="/admin/forms" class="btn btn-sm btn-outline">{{T .AdminLang "dashboard.view_all_forms"}}</a>
            {{end}}
        </div>
        <div class="card-body">
            {{if .Data.RecentSubmissions}}
            <div class="submissions-list">
                {{range .Data.RecentSubmissions}}
                <a href="/admin/forms/{{.FormID}}/submissions/{{.ID}}" class="submission-item{{if not .IsRead}} submission-unread{{end}}">
                    <div class="submission-info">
                        <span class="submission-form">{{.FormName}}</span>
                        <span class="submission-time">{{.CreatedAt}}</span>
                    </div>
                    {{if not .IsRead}}
                    <span class="badge badge-primary">{{T $.AdminLang "label.new"}}</span>
                    {{end}}
                </a>
                {{end}}
            </div>
            {{else}}
            <div class="empty-state">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                <p>{{T .AdminLang "dashboard.no_submissions"}}</p>
                <span class="empty-hint">{{T .AdminLang "dashboard.submissions_hint"}}</span>
            </div>
            {{end}}
        </div>
    </div>

    {{if gt .Data.Stats.TotalWebhooks 0}}
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">{{T .AdminLang "dashboard.webhook_health"}}</h2>
            <a href="/admin/webhooks" class="btn btn-sm btn-outline">{{T .AdminLang "dashboard.view_webhooks"}}</a>
        </div>
        <div class="card-body">
            {{if .Data.WebhookHealth}}
            <div class="webhook-health-list">
                {{range .Data.WebhookHealth}}
                <div class="webhook-health-item">
                    <div class="webhook-health-info">
                        <div class="webhook-health-indicator health-{{.HealthStatus}}" title="{{printf "%.1f" .SuccessRate}}%">
                            <span class="health-dot"></span>
                        </div>
                        <span class="webhook-name">{{.Name}}</span>
                        {{if not .IsActive}}
                        <span class="badge badge-secondary badge-sm">{{T $.AdminLang "webhooks.inactive"}}</span>
                        {{end}}
                    </div>
                    <span class="webhook-rate text-muted">{{printf "%.0f" .SuccessRate}}%</span>
                </div>
                {{end}}
            </div>
            {{if gt .Data.Stats.FailedDeliveries24h 0}}
            <div class="webhook-alert">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                <span>{{.Data.Stats.FailedDeliveries24h}} {{T .AdminLang "dashboard.failed_deliveries_24h"}}</span>
            </div>
            {{end}}
            {{else}}
            <div class="empty-state-sm">
                <p class="text-muted">{{T .AdminLang "dashboard.no_webhook_activity"}}</p>
            </div>
            {{end}}
        </div>
    </div>
    {{end}}

    <div class="card">
        <div class="card-header">
            <h2 class="card-title">{{T .AdminLang "dashboard.quick_actions"}}</h2>
        </div>
        <div class="card-body">
            <div class="quick-actions">
                <a href="/admin/pages/new" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M12 18v-6"/><path d="M9 15h6"/></svg>
                    <span>{{T .AdminLang "dashboard.create_page"}}</span>
                </a>
                <a href="/admin/media/upload" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>
                    <span>{{T .AdminLang "dashboard.upload_media"}}</span>
                </a>
                <a href="/admin/forms/new" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
                    <span>{{T .AdminLang "dashboard.create_form"}}</span>
                </a>
                <a href="/admin/menus" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" x2="21" y1="6" y2="6"/><line x1="3" x2="21" y1="12" y2="12"/><line x1="3" x2="21" y1="18" y2="18"/></svg>
                    <span>{{T .AdminLang "dashboard.manage_menus"}}</span>
                </a>
                <a href="/admin/users/new" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
                    <span>{{T .AdminLang "dashboard.add_user"}}</span>
                </a>
                <a href="/admin/export" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
                    <span>{{T .AdminLang "dashboard.export_content"}}</span>
                </a>
                <a href="/admin/import" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>
                    <span>{{T .AdminLang "dashboard.import_content"}}</span>
                </a>
                <a href="/admin/config" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
                    <span>{{T .AdminLang "nav.settings"}}</span>
                </a>
            </div>
        </div>
    </div>

    {{if gt (len .Data.TranslationCoverage) 1}}
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">{{T .AdminLang "dashboard.translation_coverage"}}</h2>
            <a href="/admin/languages" class="btn btn-sm btn-outline">{{T .AdminLang "dashboard.manage_languages"}}</a>
        </div>
        <div class="card-body">
            <div class="translation-coverage-list">
                {{range .Data.TranslationCoverage}}
                <div class="translation-coverage-item">
                    <div class="translation-coverage-info">
                        <span class="language-code">{{.LanguageCode}}</span>
                        <span class="language-name">{{TLang $.AdminLang .LanguageCode}}</span>
                        {{if .IsDefault}}
                        <span class="badge badge-primary badge-sm">{{T $.AdminLang "languages.default"}}</span>
                        {{end}}
                    </div>
                    <span class="translation-count">{{.TotalPages}} {{T $.AdminLang "dashboard.pages_count"}}</span>
                </div>
                {{end}}
            </div>
        </div>
    </div>
    {{end}}

    {{if .Data.RecentFailedDeliveries}}
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">{{T .AdminLang "dashboard.recent_failed_deliveries"}}</h2>
            <a href="/admin/webhooks" class="btn btn-sm btn-outline">{{T .AdminLang "dashboard.view_webhooks"}}</a>
        </div>
        <div class="card-body">
            <div class="failed-deliveries-list">
                {{range .Data.RecentFailedDeliveries}}
                <a href="/admin/webhooks/{{.WebhookID}}/deliveries" class="failed-delivery-item">
                    <div class="failed-delivery-info">
                        <span class="webhook-name">{{.WebhookName}}</span>
                        <span class="event-type">{{.Event}}</span>
                    </div>
                    <div class="failed-delivery-meta">
                        <span class="badge badge-danger badge-sm">{{.Status}}</span>
                        <span class="delivery-time">{{.CreatedAt}}</span>
                    </div>
                </a>
                {{end}}
            </div>
        </div>
    </div>
    {{end}}
</div>

<style>
.stats-grid-secondary,
.stats-grid-tertiary {
    margin-top: 1rem;
    grid-template-columns: repeat(3, 1fr);
}

@media (max-width: 768px) {
    .stats-grid-secondary,
    .stats-grid-tertiary {
        grid-template-columns: 1fr;
    }
}

.stat-icon-cyan {
    background-color: rgba(6, 182, 212, 0.1);
    color: #06b6d4;
}

.stat-icon-indigo {
    background-color: rgba(99, 102, 241, 0.1);
    color: #6366f1;
}

.stat-icon-orange {
    background-color: rgba(249, 115, 22, 0.1);
    color: #f97316;
}

.stat-card-highlight {
    border-color: #f97316;
    box-shadow: 0 0 0 1px rgba(249, 115, 22, 0.2);
}

.submissions-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.submission-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem;
    border-radius: 6px;
    background: var(--bg-secondary);
    text-decoration: none;
    transition: background-color 0.15s;
}

.submission-item:hover {
    background: var(--bg-hover);
}

.submission-unread {
    background: rgba(79, 70, 229, 0.05);
    border-left: 3px solid var(--primary-color);
}

.submission-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.submission-form {
    font-weight: 500;
    color: var(--text-primary);
}

.submission-time {
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Webhook Health Widget */
.webhook-health-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.webhook-health-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem;
    border-radius: 6px;
    background: var(--bg-secondary);
}

.webhook-health-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.webhook-health-indicator {
    display: inline-flex;
    align-items: center;
}

.health-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
}

.health-green .health-dot {
    background: #10b981;
    box-shadow: 0 0 4px rgba(16, 185, 129, 0.4);
}

.health-yellow .health-dot {
    background: #f59e0b;
    box-shadow: 0 0 4px rgba(245, 158, 11, 0.4);
}

.health-red .health-dot {
    background: #ef4444;
    box-shadow: 0 0 4px rgba(239, 68, 68, 0.4);
}

.health-unknown .health-dot {
    background: #9ca3af;
}

.webhook-name {
    font-weight: 500;
    color: var(--text-primary);
}

.webhook-rate {
    font-size: 0.75rem;
}

.webhook-alert {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.75rem;
    padding: 0.5rem;
    background: rgba(239, 68, 68, 0.1);
    border-radius: 6px;
    color: #ef4444;
    font-size: 0.8rem;
}

.empty-state-sm {
    text-align: center;
    padding: 1rem;
}

.badge-sm {
    font-size: 0.65rem;
    padding: 0.125rem 0.375rem;
}

/* Phase 4 additions */
.stat-icon-teal {
    background-color: rgba(20, 184, 166, 0.1);
    color: #14b8a6;
}

.stat-icon-emerald {
    background-color: rgba(16, 185, 129, 0.1);
    color: #10b981;
}

.stat-icon-rose {
    background-color: rgba(244, 63, 94, 0.1);
    color: #f43f5e;
}

/* Translation Coverage Widget */
.translation-coverage-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.translation-coverage-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem;
    border-radius: 6px;
    background: var(--bg-secondary);
}

.translation-coverage-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.language-code {
    font-family: monospace;
    font-weight: 600;
    padding: 0.125rem 0.375rem;
    background: var(--bg-hover);
    border-radius: 4px;
    font-size: 0.75rem;
    text-transform: uppercase;
}

.language-name {
    font-weight: 500;
    color: var(--text-primary);
}

.translation-count {
    font-size: 0.875rem;
    color: var(--text-secondary);
}

/* Failed Deliveries Widget */
.failed-deliveries-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.failed-delivery-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem;
    border-radius: 6px;
    background: var(--bg-secondary);
    text-decoration: none;
    transition: background-color 0.15s;
    border-left: 3px solid #ef4444;
}

.failed-delivery-item:hover {
    background: var(--bg-hover);
}

.failed-delivery-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.failed-delivery-info .webhook-name {
    font-weight: 500;
    color: var(--text-primary);
}

.failed-delivery-info .event-type {
    font-size: 0.75rem;
    color: var(--text-secondary);
    font-family: monospace;
}

.failed-delivery-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.delivery-time {
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.badge-danger {
    background-color: rgba(239, 68, 68, 0.1);
    color: #ef4444;
}

/* Stat card links */
a.stat-card-link {
    text-decoration: none;
    color: inherit;
    transition: transform 0.15s, box-shadow 0.15s;
}

a.stat-card-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

a.stat-card-link:active {
    transform: translateY(0);
}

/* Activity Timeline Widget */
.activity-timeline {
    display: flex;
    flex-direction: column;
    gap: 0;
}

.activity-item {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.75rem;
    border-left: 3px solid var(--border-color);
    background: var(--bg-secondary);
    margin-bottom: 0.5rem;
    border-radius: 0 6px 6px 0;
    transition: background-color 0.15s;
}

.activity-item:hover {
    background: var(--bg-hover);
}

.activity-item:last-child {
    margin-bottom: 0;
}

.activity-level-info {
    border-left-color: #3b82f6;
}

.activity-level-warning {
    border-left-color: #f59e0b;
}

.activity-level-error {
    border-left-color: #ef4444;
}

.activity-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 6px;
    flex-shrink: 0;
    background: var(--bg-hover);
    color: var(--text-secondary);
}

.activity-icon-auth {
    background-color: rgba(139, 92, 246, 0.1);
    color: #8b5cf6;
}

.activity-icon-page {
    background-color: rgba(59, 130, 246, 0.1);
    color: #3b82f6;
}

.activity-icon-user {
    background-color: rgba(16, 185, 129, 0.1);
    color: #10b981;
}

.activity-icon-config {
    background-color: rgba(249, 115, 22, 0.1);
    color: #f97316;
}

.activity-icon-system {
    background-color: rgba(107, 114, 128, 0.1);
    color: #6b7280;
}

.activity-icon-cache {
    background-color: rgba(6, 182, 212, 0.1);
    color: #06b6d4;
}

.activity-content {
    flex: 1;
    min-width: 0;
}

.activity-message {
    font-size: 0.875rem;
    color: var(--text-primary);
    line-height: 1.4;
    word-break: break-word;
}

.activity-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.25rem;
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.activity-user {
    font-weight: 500;
}

.activity-system {
    font-style: italic;
    color: var(--text-muted);
}

.activity-time {
    color: var(--text-muted);
}

.activity-meta .activity-user::after {
    content: "Â·";
    margin-left: 0.5rem;
    color: var(--text-muted);
}

.activity-badge {
    font-size: 0.65rem;
    padding: 0.125rem 0.5rem;
    border-radius: 9999px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    flex-shrink: 0;
    align-self: flex-start;
}

.badge-info {
    background-color: rgba(59, 130, 246, 0.1);
    color: #3b82f6;
}

.badge-warning {
    background-color: rgba(245, 158, 11, 0.1);
    color: #d97706;
}

.badge-error {
    background-color: rgba(239, 68, 68, 0.1);
    color: #dc2626;
}

@media (max-width: 640px) {
    .activity-item {
        flex-wrap: wrap;
    }

    .activity-badge {
        margin-left: calc(32px + 0.75rem);
        margin-top: 0.5rem;
    }
}
</style>
{{end}}
