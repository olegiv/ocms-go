{{define "content"}}
<div class="page-header">
    <div>
        <h1 class="page-title">{{T .AdminLang "dashboard.title"}}</h1>
        <p class="page-description">{{T .AdminLang "dashboard.welcome" .User.Name}}</p>
    </div>
    <div class="page-actions">
        <a href="/admin/pages/new" class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
            {{T .AdminLang "pages.new"}}
        </a>
    </div>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon stat-icon-blue">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.total_pages"}}</div>
            <div class="stat-value">{{.Data.Stats.TotalPages}}</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon stat-icon-green">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.published_pages"}}</div>
            <div class="stat-value">{{.Data.Stats.PublishedPages}}</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon stat-icon-yellow">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.draft_pages"}}</div>
            <div class="stat-value">{{.Data.Stats.DraftPages}}</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon stat-icon-purple">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.total_users"}}</div>
            <div class="stat-value">{{.Data.Stats.TotalUsers}}</div>
        </div>
    </div>
</div>

<div class="stats-grid stats-grid-secondary">
    <div class="stat-card">
        <div class="stat-icon stat-icon-cyan">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.media_files"}}</div>
            <div class="stat-value">{{.Data.Stats.TotalMedia}}</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon stat-icon-indigo">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.total_forms"}}</div>
            <div class="stat-value">{{.Data.Stats.TotalForms}}</div>
        </div>
    </div>
    <div class="stat-card{{if gt .Data.Stats.UnreadSubmissions 0}} stat-card-highlight{{end}}">
        <div class="stat-icon stat-icon-orange">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        </div>
        <div class="stat-content">
            <div class="stat-label">{{T .AdminLang "dashboard.unread_submissions"}}</div>
            <div class="stat-value">{{.Data.Stats.UnreadSubmissions}}</div>
        </div>
    </div>
</div>

<div class="dashboard-grid">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">{{T .AdminLang "dashboard.recent_submissions"}}</h2>
            {{if .Data.RecentSubmissions}}
            <a href="/admin/forms" class="btn btn-sm btn-outline">{{T .AdminLang "dashboard.view_all_forms"}}</a>
            {{end}}
        </div>
        <div class="card-body">
            {{if .Data.RecentSubmissions}}
            <div class="submissions-list">
                {{range .Data.RecentSubmissions}}
                <a href="/admin/forms/{{.FormID}}/submissions/{{.ID}}" class="submission-item{{if not .IsRead}} submission-unread{{end}}">
                    <div class="submission-info">
                        <span class="submission-form">{{.FormName}}</span>
                        <span class="submission-time">{{.CreatedAt}}</span>
                    </div>
                    {{if not .IsRead}}
                    <span class="badge badge-primary">{{T $.AdminLang "label.new"}}</span>
                    {{end}}
                </a>
                {{end}}
            </div>
            {{else}}
            <div class="empty-state">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                <p>{{T .AdminLang "dashboard.no_submissions"}}</p>
                <span class="empty-hint">{{T .AdminLang "dashboard.submissions_hint"}}</span>
            </div>
            {{end}}
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h2 class="card-title">{{T .AdminLang "dashboard.quick_actions"}}</h2>
        </div>
        <div class="card-body">
            <div class="quick-actions">
                <a href="/admin/pages/new" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M12 18v-6"/><path d="M9 15h6"/></svg>
                    <span>{{T .AdminLang "dashboard.create_page"}}</span>
                </a>
                <a href="/admin/media/upload" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>
                    <span>{{T .AdminLang "dashboard.upload_media"}}</span>
                </a>
                <a href="/admin/forms/new" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
                    <span>{{T .AdminLang "dashboard.create_form"}}</span>
                </a>
                <a href="/admin/menus" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" x2="21" y1="6" y2="6"/><line x1="3" x2="21" y1="12" y2="12"/><line x1="3" x2="21" y1="18" y2="18"/></svg>
                    <span>{{T .AdminLang "dashboard.manage_menus"}}</span>
                </a>
                <a href="/admin/users/new" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
                    <span>{{T .AdminLang "dashboard.add_user"}}</span>
                </a>
                <a href="/admin/config" class="quick-action">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
                    <span>{{T .AdminLang "nav.settings"}}</span>
                </a>
            </div>
        </div>
    </div>
</div>

<style>
.stats-grid-secondary {
    margin-top: 1rem;
    grid-template-columns: repeat(3, 1fr);
}

@media (max-width: 768px) {
    .stats-grid-secondary {
        grid-template-columns: 1fr;
    }
}

.stat-icon-cyan {
    background-color: rgba(6, 182, 212, 0.1);
    color: #06b6d4;
}

.stat-icon-indigo {
    background-color: rgba(99, 102, 241, 0.1);
    color: #6366f1;
}

.stat-icon-orange {
    background-color: rgba(249, 115, 22, 0.1);
    color: #f97316;
}

.stat-card-highlight {
    border-color: #f97316;
    box-shadow: 0 0 0 1px rgba(249, 115, 22, 0.2);
}

.submissions-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.submission-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem;
    border-radius: 6px;
    background: var(--bg-secondary);
    text-decoration: none;
    transition: background-color 0.15s;
}

.submission-item:hover {
    background: var(--bg-hover);
}

.submission-unread {
    background: rgba(79, 70, 229, 0.05);
    border-left: 3px solid var(--primary-color);
}

.submission-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.submission-form {
    font-weight: 500;
    color: var(--text-primary);
}

.submission-time {
    font-size: 0.75rem;
    color: var(--text-secondary);
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
</style>
{{end}}
