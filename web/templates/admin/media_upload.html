{{define "content"}}
<div class="page-header">
    <div>
        <h1 class="page-title">{{T .AdminLang "media.upload_title"}}</h1>
        <p class="page-description">{{T .AdminLang "media.upload_description"}}</p>
    </div>
    <div class="page-actions">
        <a href="/admin/media" class="btn btn-outline">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
            {{T .AdminLang "media.back_to_library"}}
        </a>
    </div>
</div>

<div class="card">
    <div class="card-body">
        {{.CSRFField}}
        <!-- Folder Selection -->
        {{if .Data.Folders}}
        <div class="form-group">
            <label for="folder_id" class="form-label">{{T .AdminLang "media.folder_optional"}}</label>
            <select id="folder_id" name="folder_id" class="form-select">
                <option value="">{{T .AdminLang "media.no_folder"}}</option>
                {{range .Data.Folders}}
                <option value="{{.ID}}">{{.Name}}</option>
                {{end}}
            </select>
        </div>
        {{end}}

        <!-- Media Dropzone Component (Upload Mode) -->
        {{template "media_dropzone" dict
            "Mode" "upload"
            "Lang" .AdminLang
            "Accept" .Data.AllowedExt
            "MaxSize" .Data.MaxSize
            "Multiple" true
            "UploadURL" "/admin/media/upload"
            "RedirectURL" "/admin/media"
            "AllowedTypes" "image/jpeg,image/png,image/gif,image/webp,image/x-icon,image/vnd.microsoft.icon,application/pdf,video/mp4,video/webm"
            "FormatsHint" (T .AdminLang "media.supported_formats")
        }}
    </div>
</div>
{{end}}
