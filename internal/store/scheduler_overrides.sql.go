// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: scheduler_overrides.sql

package store

import (
	"context"
)

const deleteSchedulerOverride = `-- name: DeleteSchedulerOverride :exec
DELETE FROM scheduler_overrides WHERE source = ? AND name = ?
`

type DeleteSchedulerOverrideParams struct {
	Source string `json:"source"`
	Name   string `json:"name"`
}

func (q *Queries) DeleteSchedulerOverride(ctx context.Context, arg DeleteSchedulerOverrideParams) error {
	_, err := q.db.ExecContext(ctx, deleteSchedulerOverride, arg.Source, arg.Name)
	return err
}

const getSchedulerOverride = `-- name: GetSchedulerOverride :one
SELECT override_schedule FROM scheduler_overrides
WHERE source = ? AND name = ?
`

type GetSchedulerOverrideParams struct {
	Source string `json:"source"`
	Name   string `json:"name"`
}

func (q *Queries) GetSchedulerOverride(ctx context.Context, arg GetSchedulerOverrideParams) (string, error) {
	row := q.db.QueryRowContext(ctx, getSchedulerOverride, arg.Source, arg.Name)
	var override_schedule string
	err := row.Scan(&override_schedule)
	return override_schedule, err
}

const upsertSchedulerOverride = `-- name: UpsertSchedulerOverride :exec
INSERT INTO scheduler_overrides (source, name, override_schedule, updated_at)
VALUES (?, ?, ?, CURRENT_TIMESTAMP)
ON CONFLICT(source, name) DO UPDATE SET
    override_schedule = excluded.override_schedule,
    updated_at = CURRENT_TIMESTAMP
`

type UpsertSchedulerOverrideParams struct {
	Source           string `json:"source"`
	Name             string `json:"name"`
	OverrideSchedule string `json:"override_schedule"`
}

func (q *Queries) UpsertSchedulerOverride(ctx context.Context, arg UpsertSchedulerOverrideParams) error {
	_, err := q.db.ExecContext(ctx, upsertSchedulerOverride, arg.Source, arg.Name, arg.OverrideSchedule)
	return err
}
