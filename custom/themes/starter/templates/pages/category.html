{{define "content"}}
<div class="st-archive st-archive--category">
    <header class="st-archive__header">
        <span class="st-archive__label">{{TTheme $.LangCode "frontend.category"}}</span>
        <h1 class="st-archive__title">{{.Category.Name}}</h1>
        {{if .Category.Description}}
        <p class="st-archive__desc">{{.Category.Description}}</p>
        {{end}}
        {{if .PageCount}}
        <p class="st-archive__count">{{.PageCount}} {{if eq .PageCount 1}}{{TTheme $.LangCode "frontend.post"}}{{else}}{{TTheme $.LangCode "frontend.posts"}}{{end}}</p>
        {{end}}
    </header>

    {{if .Pages}}
    <div class="st-posts">
        {{range .Pages}}
        {{template "post-card.html" .}}
        {{end}}
    </div>

    {{template "pagination.html" .}}

    {{else}}
    <div class="st-empty">
        <p>{{TTheme $.LangCode "frontend.no_posts_category"}}</p>
        <a href="/" class="st-btn st-btn--outline">{{TTheme $.LangCode "frontend.go_home"}}</a>
    </div>
    {{end}}

    {{if .Subcategories}}
    <section class="st-subcategories">
        <h3 class="st-section__title">{{TTheme $.LangCode "frontend.subcategories"}}</h3>
        <ul class="st-subcategories__list">
            {{range .Subcategories}}
            <li>
                <a href="/category/{{.Slug}}">{{.Name}}</a>
                {{if .Count}}<span class="st-widget__count">{{.Count}}</span>{{end}}
            </li>
            {{end}}
        </ul>
    </section>
    {{end}}
</div>
{{end}}
